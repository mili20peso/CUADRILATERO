"
Subclase de jugador
--SUERTUDO--
*Tiene menos vida (2)
*Poder Suertudo: Si una tirada tiene los dos numeros menores a 3, suertudo vuelve a tirar los dados
"
Class {
	#name : #JugadorCuadrilaterosSuertudo,
	#superclass : #JugadorCuadrilateros,
	#category : #'Cuadrilateros-Juego'
}

{ #category : #initiali }
JugadorCuadrilaterosSuertudo >> inicializar [
    super inicializar.
    "Inicia con 2 vidas"
    vidas := 2.
]

{ #category : #'game logic' }
JugadorCuadrilaterosSuertudo >> tirarDadosCon: unDado [
    "Sobreescribe para implementar la regla del reroll si ambos dados son menores a 3."
    | puntoResultado |

    "Si tiene LowRoll, para que no se quede en un bucle, suertudo pierde su habilidad caracteristica."
    (self tienePotenciador: PowerUpLowRoll) ifTrue: [
        "Realiza la tirada normal."
        ^ unDado tirar: self configuracionDado.
    ].
    [
        "Tira el dado, usando la configuración de efectos del jugador"
        puntoResultado := unDado tirar: self configuracionDado.
        "Chequea la condición de reroll (X<=2 y Y<=2)"
        (puntoResultado x <= 2 and: [ puntoResultado y <= 2 ])
    ] whileTrue: [ 
        "Si la condición se cumple, el bucle repite la tirada"
    ].
    
    ^ puntoResultado
]